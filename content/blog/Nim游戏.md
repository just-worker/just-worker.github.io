---
title: "Nim游戏"
date: 2023-10-19T22:30:18+08:00
draft: false
tags: ["leetcode", "算法"]
---

## [Nim 游戏](https://leetcode.cn/problems/nim-game/)

你和你的朋友，两个人一起玩 Nim 游戏：

- 桌子上有一堆石头。
- 你们轮流进行自己的回合， 你作为先手 。
- 每一回合，轮到的人拿掉 1 - 3 块石头。
- 拿掉最后一块石头的人就是获胜者。

假设你们每一步都是最优解。请编写一个函数，来判断你是否可以在给定石头数量为 n 的情况下赢得游戏。如果可以赢，返回 true；否则，返回 false 。


## 题目解析

虽然说每个人可以拿掉1~3块石头，但是隐含的要素在于，每轮至少拿掉1块，最多拿掉3块。

我们拿到最后一块的情况，最后剩下数量肯定是1,2,3其中一种。

所以根据拿掉的可能是1,2,3块，反推之前剩余数目可能是2,3,4,5,6。

因为都是理性人，绝不会放过赢的机会，所以2,3都可以排除；

并且，首先将数量推到3以内的人必然是输家，这里只能够借由规则：每次至少拿一个，来致胜。

很明显，只有将4推到对方，才能取得胜利；

因为是轮流抽取的，每次只要补齐4块，整体其实都是4块降低的，也就是说，只要不是4的倍数，就一定能赢。

```rust
// time; O(1)
// space: O(1)
impl Solution {
    pub fn can_win_nim(n: i32) -> bool {
        return n % 4 != 0;
    }
}
```

